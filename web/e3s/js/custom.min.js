function countChecked(){"all"===checkState&&$(".bulk_action input[name='table_records']").iCheck("check"),"none"===checkState&&$(".bulk_action input[name='table_records']").iCheck("uncheck");var e=$(".bulk_action input[name='table_records']:checked").length;e?($(".column-title").hide(),$(".bulk-actions").show(),$(".action-cnt").html(e+" Records Selected")):($(".column-title").show(),$(".bulk-actions").hide())}function gd(e,t,a){return new Date(e,t-1,a).getTime()}function onAddTag(e){alert("Added a tag: "+e)}function onRemoveTag(e){alert("Removed a tag: "+e)}function onChangeTag(e,t){alert("Changed a tag: "+t)}function init_wysiwyg(){function e(e,t){var a="";"unsupported-file-type"===e?a="Unsupported format "+t:console.log("error uploading file",e,t),$('<div class="alert"> <button type="button" class="close" data-dismiss="alert">&times;</button><strong>File upload error</strong> '+a+" </div>").prependTo("#alerts")}void 0!==$.fn.wysiwyg&&(console.log("init_wysiwyg"),$(".editor-wrapper").each(function(){var t=$(this).attr("id");$(this).wysiwyg({toolbarSelector:'[data-target="#'+t+'"]',fileUploadError:e})}),window.prettyPrint,prettyPrint())}function init_cropper(){if(void 0!==$.fn.cropper){console.log("init_cropper");var e=$("#image"),t=$("#download"),a=$("#dataX"),n=$("#dataY"),o=$("#dataHeight"),r=$("#dataWidth"),i=$("#dataRotate"),c=$("#dataScaleX"),s=$("#dataScaleY"),l={aspectRatio:16/9,preview:".img-preview",crop:function(e){a.val(Math.round(e.x)),n.val(Math.round(e.y)),o.val(Math.round(e.height)),r.val(Math.round(e.width)),i.val(e.rotate),c.val(e.scaleX),s.val(e.scaleY)}};$('[data-toggle="tooltip"]').tooltip(),e.on({"build.cropper":function(e){console.log(e.type)},"built.cropper":function(e){console.log(e.type)},"cropstart.cropper":function(e){console.log(e.type,e.action)},"cropmove.cropper":function(e){console.log(e.type,e.action)},"cropend.cropper":function(e){console.log(e.type,e.action)},"crop.cropper":function(e){console.log(e.type,e.x,e.y,e.width,e.height,e.rotate,e.scaleX,e.scaleY)},"zoom.cropper":function(e){console.log(e.type,e.ratio)}}).cropper(l),$.isFunction(document.createElement("canvas").getContext)||$('button[data-method="getCroppedCanvas"]').prop("disabled",!0),void 0===document.createElement("cropper").style.transition&&($('button[data-method="rotate"]').prop("disabled",!0),$('button[data-method="scale"]').prop("disabled",!0)),void 0===t[0].download&&t.addClass("disabled"),$(".docs-toggles").on("change","input",function(){var t,a,n=$(this),o=n.attr("name"),r=n.prop("type");e.data("cropper")&&("checkbox"===r?(l[o]=n.prop("checked"),t=e.cropper("getCropBoxData"),a=e.cropper("getCanvasData"),l.built=function(){e.cropper("setCropBoxData",t),e.cropper("setCanvasData",a)}):"radio"===r&&(l[o]=n.val()),e.cropper("destroy").cropper(l))}),$(".docs-buttons").on("click","[data-method]",function(){var a,n,o=$(this),r=o.data();if(!o.prop("disabled")&&!o.hasClass("disabled")&&e.data("cropper")&&r.method){if(r=$.extend({},r),void 0!==r.target&&(a=$(r.target),void 0===r.option))try{r.option=JSON.parse(a.val())}catch(e){console.log(e.message)}switch(n=e.cropper(r.method,r.option,r.secondOption),r.method){case"scaleX":case"scaleY":$(this).data("option",-r.option);break;case"getCroppedCanvas":n&&($("#getCroppedCanvasModal").modal().find(".modal-body").html(n),t.hasClass("disabled")||t.attr("href",n.toDataURL()))}if($.isPlainObject(n)&&a)try{a.val(JSON.stringify(n))}catch(e){console.log(e.message)}}}),$(document.body).on("keydown",function(t){if(e.data("cropper")&&!(this.scrollTop>300))switch(t.which){case 37:t.preventDefault(),e.cropper("move",-1,0);break;case 38:t.preventDefault(),e.cropper("move",0,-1);break;case 39:t.preventDefault(),e.cropper("move",1,0);break;case 40:t.preventDefault(),e.cropper("move",0,1)}});var d,p=$("#inputImage"),u=window.URL||window.webkitURL;u?p.change(function(){var t,a=this.files;e.data("cropper")&&a&&a.length&&(t=a[0],/^image\/\w+$/.test(t.type)?(d=u.createObjectURL(t),e.one("built.cropper",function(){u.revokeObjectURL(d)}).cropper("reset").cropper("replace",d),p.val("")):window.alert("Please choose an image file."))}):p.prop("disabled",!0).parent().addClass("disabled")}}function init_InputMask(){void 0!==$.fn.inputmask&&(console.log("init_InputMask"),$(":input").inputmask())}function init_daterangepicker(){if(void 0!==$.fn.daterangepicker){console.log("init_daterangepicker");var e=function(e,t,a){console.log(e.toISOString(),t.toISOString(),a),$("#reportrange span").html(e.format("MMMM D, YYYY")+" - "+t.format("MMMM D, YYYY"))},t={startDate:moment().subtract(29,"days"),endDate:moment(),minDate:"01/01/2012",maxDate:"12/31/2015",dateLimit:{days:60},showDropdowns:!0,showWeekNumbers:!0,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!0,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},opens:"left",buttonClasses:["btn btn-default"],applyClass:"btn-small btn-primary",cancelClass:"btn-small",format:"MM/DD/YYYY",separator:" to ",locale:{applyLabel:"Submit",cancelLabel:"Clear",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1}};$("#reportrange span").html(moment().subtract(29,"days").format("MMMM D, YYYY")+" - "+moment().format("MMMM D, YYYY")),$("#reportrange").daterangepicker(t,e),$("#reportrange").on("show.daterangepicker",function(){console.log("show event fired")}),$("#reportrange").on("hide.daterangepicker",function(){console.log("hide event fired")}),$("#reportrange").on("apply.daterangepicker",function(e,t){console.log("apply event fired, start/end dates are "+t.startDate.format("MMMM D, YYYY")+" to "+t.endDate.format("MMMM D, YYYY"))}),$("#reportrange").on("cancel.daterangepicker",function(e,t){console.log("cancel event fired")}),$("#options1").click(function(){$("#reportrange").data("daterangepicker").setOptions(t,e)}),$("#options2").click(function(){$("#reportrange").data("daterangepicker").setOptions(optionSet2,e)}),$("#destroy").click(function(){$("#reportrange").data("daterangepicker").remove()})}}function init_daterangepicker_right(){if(void 0!==$.fn.daterangepicker){console.log("init_daterangepicker_right");var e=function(e,t,a){console.log(e.toISOString(),t.toISOString(),a),$("#reportrange_right span").html(e.format("MMMM D, YYYY")+" - "+t.format("MMMM D, YYYY"))},t={startDate:moment().subtract(29,"days"),endDate:moment(),minDate:"01/01/2012",maxDate:"12/31/2020",dateLimit:{days:60},showDropdowns:!0,showWeekNumbers:!0,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!0,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},opens:"right",buttonClasses:["btn btn-default"],applyClass:"btn-small btn-primary",cancelClass:"btn-small",format:"MM/DD/YYYY",separator:" to ",locale:{applyLabel:"Submit",cancelLabel:"Clear",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1}};$("#reportrange_right span").html(moment().subtract(29,"days").format("MMMM D, YYYY")+" - "+moment().format("MMMM D, YYYY")),$("#reportrange_right").daterangepicker(t,e),$("#reportrange_right").on("show.daterangepicker",function(){console.log("show event fired")}),$("#reportrange_right").on("hide.daterangepicker",function(){console.log("hide event fired")}),$("#reportrange_right").on("apply.daterangepicker",function(e,t){console.log("apply event fired, start/end dates are "+t.startDate.format("MMMM D, YYYY")+" to "+t.endDate.format("MMMM D, YYYY"))}),$("#reportrange_right").on("cancel.daterangepicker",function(e,t){console.log("cancel event fired")}),$("#options1").click(function(){$("#reportrange_right").data("daterangepicker").setOptions(t,e)}),$("#options2").click(function(){$("#reportrange_right").data("daterangepicker").setOptions(optionSet2,e)}),$("#destroy").click(function(){$("#reportrange_right").data("daterangepicker").remove()})}}function init_daterangepicker_reservation(){void 0!==$.fn.daterangepicker&&(console.log("init_daterangepicker_reservation"),$("#reservation").daterangepicker(null,function(e,t,a){console.log(e.toISOString(),t.toISOString(),a)}),$("#reservation-time").daterangepicker({timePicker:!0,timePickerIncrement:30,locale:{format:"MM/DD/YYYY h:mm A"}}))}function init_validator(){"undefined"!=typeof validator&&(console.log("init_validator"),validator.message.date="not a real date",$("form").on("blur","input[required], input.optional, select.required",validator.checkField).on("change","select.required",validator.checkField).on("keypress","input[required][pattern]",validator.keypress),$(".multi.required").on("keyup blur","input",function(){validator.checkField.apply($(this).siblings().last()[0])}),$("form").submit(function(e){e.preventDefault();var t=!0;return validator.checkAll($(this))||(t=!1),t&&this.submit(),!1}))}function init_CustomNotification(){if(console.log("run_customtabs"),"undefined"!=typeof CustomTabs){console.log("init_CustomTabs");var e=10;TabbedNotification=function(t){var a="<div id='ntf"+e+"' class='text alert-"+t.type+"' style='display:none'><h2><i class='fas fa-bell'></i> "+t.title+"</h2><div class='close'><a href='javascript:;' class='notification_close'><i class='fas fa-times'></i></a></div><p>"+t.text+"</p></div>";document.getElementById("custom_notifications")?($("#custom_notifications ul.notifications").append("<li><a id='ntlink"+e+"' class='alert-"+t.type+"' href='#ntf"+e+"'><i class='fas fa-bell animated shake'></i></a></li>"),$("#custom_notifications #notif-group").append(a),e++,CustomTabs(t)):alert("doesnt exists")},CustomTabs=function(e){$(".tabbed_notifications > div").hide(),$(".tabbed_notifications > div:first-of-type").show(),$("#custom_notifications").removeClass("dsp_none"),$(".notifications a").click(function(e){e.preventDefault();var t=$(this),a="#"+t.parents(".notifications").data("tabbed_notifications"),n=t.closest("li").siblings().children("a"),o=t.attr("href");n.removeClass("active"),t.addClass("active"),$(a).children("div").hide(),$(o).show()})},CustomTabs();var t=idname="";$(document).on("click",".notification_close",function(e){idname=$(this).parent().parent().attr("id"),t=idname.substr(-2),$("#ntf"+t).remove(),$("#ntlink"+t).parent().remove(),$(".notifications a").first().addClass("active"),$("#notif-group div").first().css("display","block")})}}function init_compose(){void 0!==$.fn.slideToggle&&(console.log("init_compose"),$("#compose, .compose-close").click(function(){$(".compose").slideToggle()}))}function init_calendar(){if(void 0!==$.fn.fullCalendar){console.log("init_calendar");var e,t=new Date,a=t.getDate(),n=t.getMonth(),o=t.getFullYear(),r=$("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay,listMonth"},selectable:!0,selectHelper:!0,select:function(t,a,n){$("#fc_create").click(),e=t,ended=a,$(".antosubmit").on("click",function(){var t=$("#title").val();return a&&(ended=a),$("#event_type").val(),t&&r.fullCalendar("renderEvent",{title:t,start:e,end:a,allDay:n},!0),$("#title").val(""),r.fullCalendar("unselect"),$(".antoclose").click(),!1})},eventClick:function(e,t,a){$("#fc_edit").click(),$("#title2").val(e.title),$("#event_type").val(),$(".antosubmit2").on("click",function(){e.title=$("#title2").val(),r.fullCalendar("updateEvent",e),$(".antoclose2").click()}),r.fullCalendar("unselect")},editable:!0,events:[{title:"All Day Event",start:new Date(o,n,1)},{title:"Long Event",start:new Date(o,n,a-5),end:new Date(o,n,a-2)},{title:"Meeting",start:new Date(o,n,a,10,30),allDay:!1},{title:"Lunch",start:new Date(o,n,a+14,12,0),end:new Date(o,n,a,14,0),allDay:!1},{title:"Birthday Party",start:new Date(o,n,a+1,19,0),end:new Date(o,n,a+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(o,n,28),end:new Date(o,n,29),url:"http://google.com/"}]})}}function init_DataTables(){if(console.log("run_datatables"),void 0!==$.fn.DataTable){console.log("init_DataTables");var e=function(){$("#datatable-buttons").length&&$("#datatable-buttons").DataTable({dom:"Blfrtip",buttons:[{extend:"copy",className:"btn-sm"},{extend:"csv",className:"btn-sm"},{extend:"excel",className:"btn-sm"},{extend:"pdfHtml5",className:"btn-sm"},{extend:"print",className:"btn-sm"}],responsive:!0})};TableManageButtons=function(){"use strict";return{init:function(){e()}}}(),$("#datatable").dataTable(),$("#datatable-keytable").DataTable({keys:!0}),$("#datatable-responsive").DataTable(),$("#datatable-scroller").DataTable({ajax:"js/datatables/json/scroller-demo.json",deferRender:!0,scrollY:380,scrollCollapse:!0,scroller:!0}),$("#datatable-fixed-header").DataTable({fixedHeader:!0});var t=$("#datatable-checkbox");t.dataTable({order:[[1,"asc"]],columnDefs:[{orderable:!1,targets:[0]}]}),t.on("draw.dt",function(){$("checkbox input").iCheck({checkboxClass:"icheckbox_flat-green"})}),TableManageButtons.init()}}(function(e,t){var a=function(e,t,a){var n;return function(){function o(){a||e.apply(r,i),n=null}var r=this,i=arguments;n?clearTimeout(n):a&&e.apply(r,i),n=setTimeout(o,t||100)}};jQuery.fn[t]=function(e){return e?this.bind("resize",a(e)):this.trigger(t)}})(jQuery,"smartresize");var randNum=function(){return Math.floor(21*Math.random())+20};$(document).ready(function(){$(".collapse-link").on("click",function(){var e=$(this).closest(".x_panel"),t=$(this).find("i"),a=e.find(".x_content");e.attr("style")?a.slideToggle(200,function(){e.removeAttr("style")}):(a.slideToggle(200),e.css("height","auto")),t.toggleClass("fa-chevron-up fa-chevron-down")}),$(".close-link").click(function(){var e=$(this).closest(".x_panel");e.remove()})}),$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip({container:"body"})}),$(".progress .progress-bar")[0]&&$(".progress .progress-bar").progressbar(),$(document).ready(function(){$("input.flat")[0]&&$(document).ready(function(){$("input.flat").iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-green"})})}),$("table input").on("ifChecked",function(){checkState="",$(this).parent().parent().parent().addClass("selected"),countChecked()}),$("table input").on("ifUnchecked",function(){checkState="",$(this).parent().parent().parent().removeClass("selected"),countChecked()});var checkState="";$(".bulk_action input").on("ifChecked",function(){checkState="",$(this).parent().parent().parent().addClass("selected"),countChecked()}),$(".bulk_action input").on("ifUnchecked",function(){checkState="",$(this).parent().parent().parent().removeClass("selected"),countChecked()}),$(".bulk_action input#check-all").on("ifChecked",function(){checkState="all",countChecked()}),$(".bulk_action input#check-all").on("ifUnchecked",function(){checkState="none",countChecked()}),$(document).ready(function(){$(".expand").on("click",function(){$(this).next().slideToggle(200),$expand=$(this).find(">:first-child"),"+"==$expand.text()?$expand.text("-"):$expand.text("+")})}),"undefined"!=typeof NProgress&&($(document).ready(function(){NProgress.start()}),$(window).load(function(){NProgress.done()}));var originalLeave=$.fn.popover.Constructor.prototype.leave;$.fn.popover.Constructor.prototype.leave=function(e){var t,a,n=e instanceof this.constructor?e:$(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);originalLeave.call(this,e),e.currentTarget&&(t=$(e.currentTarget).siblings(".popover"),a=n.timeout,t.one("mouseenter",function(){clearTimeout(a),t.one("mouseleave",function(){$.fn.popover.Constructor.prototype.leave.call(n,n)})}))},$("body").popover({selector:"[data-popover]",trigger:"click hover",delay:{show:50,hide:400}}),$(document).ready(function(){init_wysiwyg(),init_InputMask(),init_cropper(),init_daterangepicker(),init_daterangepicker_right(),init_daterangepicker_reservation(),init_validator(),init_DataTables(),init_calendar(),init_compose(),init_CustomNotification()});