{# Form component to be used for each block of join #}

{% trans_default_domain 'queries' %}

{% verbatim %}

	<template id="form-block-template">
		<div id="form-block-{{id}}" class="form-block-id">
			<div class="panel panel-default form-block" id="join-panel">
				<div class="panel-heading" id="join-header">
					<div class="form-group" id="former-table-choice">
						<label class="control-label" for="lot-materiel" data-toggle="tooltip" data-placement="top" title="Select one former table">
							FROM
						</label>
						<br>
						<select class="selectpicker" id="former-table"></select>
					</div>
					<div class="form-group" id="join-type-choice">
						<label class="control-label" for="individu" data-toggle="tooltip" data-placement="top" title="Select a JOIN type">JOIN</label>
						<br>
						<select class="selectpicker" id="join-type"></select>
					</div>
					<div class="form-group" id="adj-table-choice">
						<label for="sequence" class="control-label" data-toggle="tooltip" data-placement="top" title="Select an adjacent table to the chosen former table">
							TO
						</label>
						<br>
						<select class="selectpicker adjacent-tables" id="adjacent-tables"></select>
					</div>
					<div class="form-group" id="join-selected-fields">
						<label class="control-label" data-toggle="tooltip" data-placement="top" title="Select fields related to the chosen adjacent table (None selected by default)">
							Select Field(s)
						</label>
						<br>
						<select id="table-selects-{{id}}" class="table-selects" multiple="multiple"></select>
					</div>
					<div class="form-group" id="join-source-fields">
						<label class="control-label" data-toggle="tooltip" data-placement="top" title="Select a Source Field from which to make the Join">
							Select Source Field
						</label>
						<br>
						<select id="source-fields" class="selectpicker source-fields"></select>
					</div>
					<div class="form-group" id="join-checked-constraints">
						<strong>
							Constraints
						</strong>
						<br>
						<label class="control-label" title="Add Constraints" data-toggle="tooltip" data-placement="left">
							<input id="join-constraints-switchbox" class="constraints-switchbox" type="checkbox" data-toggle="toggle" data-onstyle="success" data-size="normal" data-target="#collapse-constraints-{{id}}">
						</label>
					</div>
					<button class="btn btn-danger remove" id="remove-btn" data-target=".form-block">Remove join</button>
				</div>
				<div id="collapse-constraints-{{id}}" class="join-applied-constraints">
					<div id="builder-constraints-{{id}}" class="collapsed-query-builder join-collapse-constraints"></div>
					<button class="btn btn-warning reset" data-target="#builder-constraints-{{id}}">Reset</button>
					<div class="warning-msg" id="join-warning-msg">
						<strong>
							Some Warning Message
						</strong>
					</div>
				</div>
			</div>
		</div>
	</template>

{% endverbatim %}
