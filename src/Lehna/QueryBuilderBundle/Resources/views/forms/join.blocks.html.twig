{# Form component to be used for each block of join #}

{% trans_default_domain 'queries' %}

{% verbatim %}

	<template id="form-block-template">
		<div id="form-block-{{id}}">
      <div class="panel panel-default form-block" id="join-panel">
        <div class="panel-heading" id="join-header">
          <div class="form-group" id="former-table-choice">
            <label class="control-label" for="lot-materiel" data-toggle="tooltip" data-placement="top" title="Select one former table">
              FROM
            </label>
            <br>
            <select class="selectpicker" id="former-table"></select>
          </div>
          <div class="form-group" id="join-type-choice">
            <label class="control-label" for="individu" data-toggle="tooltip" data-placement="top" title="Select a JOIN type">JOIN</label>
            <br>
            <select class="selectpicker" id="join-type"></select>
          </div>
          <div class="form-group" id="adj-table-choice">
            <label for="sequence" class="control-label" data-toggle="tooltip" data-placement="top" title="Select an adjacent table to the chosen former table">
              TO
            </label>
            <br>
            <select class="selectpicker adjacent-tables" id="adjacent-tables"></select>
          </div>
          <div class="form-group" id="join-selected-fields">
            <label class="control-label" data-toggle="tooltip" data-placement="top" title="Select fields related to the chosen adjacent table (None selected by default)">
              Select Field(s)
            </label>
            <br>
            <select id="table-selects-{{id}}" class="table-selects" multiple="multiple"></select>
          </div>
          <div class="form-group" id="join-checked-constraints">
            <strong>
              Constraints
            </strong>
            <br>
            <label class="control-label" title="Add Constraints" data-toggle="tooltip" data-placement="left">
              <input id="join-constraints-switchbox" class="constraints-switchbox" type="checkbox" data-toggle="toggle" data-onstyle="success" data-size="normal" aria-expanded="false" data-target="#collapse-constraints-{{id}}" autocomplete="off">
            </label>
          </div>
          <div class="btn-group" id="remove-btn">
            <button class="btn btn-danger remove" data-target="#form-block-{{id}}">Remove join</button>
          </div>
        </div>
        <div class="join-applied-constraints" class="applied-constraints">
          <div id="collapse-constraints-{{id}}" class="panel-collapse collapse join-collapse-constraints" aria-expanded="false">
            <div id="builder-constraints-{{id}}" class="collapsed-query-builder"></div>
            <div class="btn-group">
              <button class="btn btn-warning reset" data-target="#builder-constraints-{{id}}">Reset
              </button>
            </div>
          </div>
          <div class="warning-msg collapse" id="join-warning-msg">
            <strong>
              {% trans %}
              Some Warning Message
              {% endtrans %}
            </strong>
          </div>
        </div>
      </div>
		</div>
	</template>

{% endverbatim %}
