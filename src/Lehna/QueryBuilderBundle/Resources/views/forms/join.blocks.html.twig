{# Form component to be used for each block of join #}

{% trans_default_domain 'queries' %}

{% verbatim %}

	<template id="form-block-template">
		<div id="form-block-{{id}}">
			<div class="formBlock">
				<div class="panel panel-default">
					<div class="panel-heading join-header">
						<div class="former-table-choice">
							<div class="form-group">
								<label for="lot-materiel" class="control-label">
									Previous table
								</label>
								<select class="previous-table selectpicker" id="formerTable" data-live-search="true"></select>
							</div>
						</div>
						<div class="join-type-choice">
							<div class="form-group">
								<label for="individu" class="control-label">
									Join selection
								</label>
								<select class="joins selectpicker" id="join_table" data-live-search="true"></select>
							</div>
						</div>
						<div class="adj-table-choice">
							<div class="form-group">
								<label for="sequence" class="control-label">
									Adjacent table
								</label>
								<select class="adjacent-tables selectpicker" id="adjacent-tables_id" data-live-search="true"></select>
							</div>
						</div>
						<div class="join-selected-fields">
              <div class="form-group">
                <label class="control-label">
                  Fields selection
                </label>
                <select id="table-selects-{{id}}" class="table-selects" multiple="multiple"></select>
              </div>
            </div>
					</div>
					<div class="join-applied-constraints">
						<div class="form-horizontal">
							<div class="form-group">
								<div class="checkbox checkbox-inline">
									<strong>
										Constraints
									</strong>
									<label class="control-label" title data-toggle="tooltip" data-placement="right">
										<input id="second_constraints" type="checkbox" data-toggle="collapse" class="collapsed new-constraints" aria-expanded="false" data-target="#collapse-constraints-{{id}}" autocomplete="off">
										<i class="fas fa-spinner fa-spin pull-right hidden i-constraints"></i>
									</label>
								</div>
							</div>
						</div>
						<div id="collapse-constraints-{{id}}" class="panel-collapse collapse join-collapsed-constraints" aria-expanded="false">
							<div class="join-checked-constraints">
								<div id="builder-constraints-{{id}}" class="builder-basic"></div>
								<div class="btn-group">
									<button class="btn btn-warning reset" data-target="#builder-constraints-{{id}}">Reset
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</template>

{% endverbatim %}
